## How does the Internet work?


인터넷의 역사는 뚜렷하진 않다. 1960대에 미군의 연구 프로젝트에서 시작되었고, 1980년대에는 많은 국립 대학들과 사설 기업들의 도움으로 점차 공공의 구조 infrastructure로 발전하였다. 인터넷을 이루는 여러가지 기술들이 발달하였지만 인터넷의 원리는 변함이 없다. 인터넷은 컴퓨터들을 연결해주는 방법이다.


**네트워크**
두개의 컴퓨터가 통신하기 위해서는 연결이 필요하다. 유선(이더넷 케이블) 혹은 무선(와이파이, 블루투스).

컴퓨터를 많이 연결하려고 하면 할 수록 더 많은 케이블 선이 필요할 것이다. 이런 문제를 해결하기 위해 각각의 컴퓨터들을 _라우터_라고 불리우는 특수한 작은 컴퓨터에 연결한다. _라우터_가 하는일은 오직 하나이다 - 하나의 컴퓨터에서 보낸 메시지가 다른 컴퓨터가 아닌 원하는 컴퓨터에 잘 전달되는지 확인하는 일이다.

![](internet-schema-3.png)



더 많은 수백개의 수천개의 수만개의 컴퓨터를 연결하려면 한개의 라우터로는 부족할 것 이다. 라우터도 결국 컴퓨터이기 때문에 라우터 끼리 연결을 통해 네트워크를 확장 시킬 수 있다.

![](internet-schema-4.png)


전세계의 수많은 컴퓨터와의 연결은 이미 우리를 세계와 연결해 주고 있는 전화선을 통해 가능하다. 전화의 구조를 컴퓨터 네트워크에 연결하기 위해서는 _모뎀_이라는 특별한 장치가 필요하다. _모뎀_은 네트워크의 정보를 전화 시설에서 처리 할 수 있는 정보로 바꾸며, 그 반대의 경우도 마찬가지이다.

이렇게 전화 시설에 연결됬으면 다음 단게는 다른 네트워크로 메시지를 보내는 일이다. 이렇게 하기 위해서 네트워크를 ISP에 연결한다. ISP는  Internet Service Provider 의 약자로 서로 연결되어있는 특별한 라우터들을 관리하고 다른 ISP의 라우터에 접근할 수 있는 일을 하는 업체를 뜻한다. So the message from our network is carried through the network of ISP networks to the destination network. The Internet consists of this whole infrastructure of networks.

![](internet-schema-7.png)


다른 컴퓨터에게 메시지를 보내고 싶다면 주소를 알아야 한다. 모든 네트워크에 연결된 컴퓨터는 고유의 주소를 가지고 있고 이를 IP 주소 하고 한다.

숫자로 이루어진 IP주소를 인간이 기억하기 쉽게 만든 것이 google.com과 같은 형태의 도메인네임이다.

	* DNS(Domain Name System) is the phonebook of the internet

---

**IP주소 찾기**

[Find your IP Address on a Mac  |   OSXDaily](http://osxdaily.com/2010/11/21/find-ip-address-mac/)

`ifconfig |grep inet`  터미널에 다음과 같이 치면,

`inet 192.168.0.7 netmask 0xffffff00 broadcast 192.168.0.255`
이런게 _inet_ 옆에 있는 것이 로컬 IP주소다.

퍼블릭 IP주소는 로컬 네트워크가 아닌 외부로 알려지는 주소로 인터넷으로 접근할 수 있는 주소다. Private IP주소는 동일한 네트워크 내에서 통신할 수 있는 주소. (예를들어 프린터를 연결한다던지, 집에서 다른 컴퓨터로 접근한다던지  가능하게 한다. 외부에서 private IP로 접근할 수 없다.)

`curl ipecho.net/plain ; echo`
다음과 같이 터미널에 치거나, 간단하게 https://www.whatismyip.com/ 같은 사이트를 방문 해 찾을 수 있다.

![](Screen%20Shot%202019-03-10%20at%205.21.31%20AM.png)


---

### webpage, website, web server and search engine?

**web page**
웹 브라우저로 보여질 수 있는 도큐먼트. 페이지 라고도 한다.

**website**
웹페이지들의 콜렉션, 묶음.사이트라고도 한다.

**web server**
인터넷에 하나 혹은 여러개의 웹사이트를 호스팅하는 컴퓨터.

**search engine**
구글, 빙, 덕덕고 같이 검색을 하게 해주는 특별한 사이트들을 말한다.


- - - -

## Client and servers

웹에 연결된 컴퓨터들을 클라이언트혹은 서버라고 부른다.
요청을 보내는 쪽을 클라이언트, 응답하는 쪽을 서버라고 한다.

* 클라이언트는 인터넷에 연결된 기기들 - 와이파이에 연결된 노트북, 모바일 네트워크에 연결된 스마트폰 등 - 그리고 이런 기기들에서 사용 가능한 웹이 접근할 수 있는 브라우저들이다.
* 서버는 웹페이지, 사이트, 앱을 저장하는 컴퓨터

클라이언트는 ISP를 통해 간접적으로 인터넷에 연결되어있다.
서버는 인터넷에 다이렉트로 연결되어 있다.

**TCP/IP**
Transmission Control Protocol / Internet Protocol
통신 규약. 교통수단 같은것.. 데이터가 웹상에서 어떻게 여행할지를 정한 방법같은 것.

**DNS**
Domain Name Server
웹 주소록. 인터넷 브라우저 창에 웹 주소를 치면 브라우저는  DNS를 통해 컴퓨터가 이해할 수 있는 진짜 주소를 찾는다.

**HTTP**
Hypertext Transfer Protocol
어플리케이션 프로토콜,  서버와 클라이언트가 소통할 수 있는 언어를 정의.

---

## 인터넷의 과정
	1. 브라우저는 컴퓨터에게 로컬 캐쉬를 통해 해당 IP주소를 알고있는지 물어본다.
		* 알고 있는 경우 -> 해당 주소를 찾아간다.
		* 모를경우 -> DNS서버로 가서 도메인 주소의 실제 서버 주소를 찾는다.
	2. 브라우저는 HTTP 리퀘스트 메시지를 서버에게 보낸다. (웹사이트의 복사본을 클라이언트에게 보내달라는 요청) - 이때 서버와 클라이언트 사이의 주고받는 데이터는 TCP/IP를 사용해 인터넷 연결로 보내진다.
	3. 서버가 요청에 승인하면 클라이언트에게 `200 OK`  라는 메시지를 보내고 웹사이트의 파일을 작은 조각인 패킷으로 잘라서 보낸다.
	4. 브라우저는 이 패킷을 받아 조립해서 사용자에게 보여준다.

